<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BoredQuest - Pixel Art MMORPG</title>
    <meta name="description" content="Embark on pixelated adventures in BoredQuest, a retro-style MMORPG filled with 8-bit magic, monsters, and treasures." />
    
    <!-- Google Fonts - Pixel Art Style -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P:wght@400&family=VT323:wght@400&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              pixel: {
                black: '#0f0f0f',
                dark: '#1a1a1a',
                gray: '#2d2d2d',
                light: '#4a4a4a',
                white: '#ffffff',
                red: '#ff0000',
                green: '#00ff00',
                blue: '#0000ff',
                yellow: '#ffff00',
                purple: '#ff00ff',
                cyan: '#00ffff',
                orange: '#ff8000',
                pink: '#ff0080',
              }
            },
            fontFamily: {
              pixel: ['Press Start 2P', 'monospace'],
              retro: ['VT323', 'monospace'],
            },
            animation: {
              'pixel-bounce': 'pixel-bounce 0.5s ease-in-out',
              'pixel-glow': 'pixel-glow 2s ease-in-out infinite alternate',
              'scanline': 'scanline 2s linear infinite',
              'blink': 'blink 1s infinite',
            },
            keyframes: {
              'pixel-bounce': {
                '0%, 100%': { transform: 'translateY(0px)' },
                '50%': { transform: 'translateY(-4px)' },
              },
              'pixel-glow': {
                '0%': { textShadow: '0 0 4px currentColor' },
                '100%': { textShadow: '0 0 8px currentColor, 0 0 12px currentColor' },
              },
              'scanline': {
                '0%': { transform: 'translateY(-100%)' },
                '100%': { transform: 'translateY(100%)' },
              },
              'blink': {
                '0%, 50%': { opacity: '1' },
                '51%, 100%': { opacity: '0' },
              }
            }
          }
        }
      }
    </script>
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="BoredQuest - Pixel Art MMORPG" />
    <meta property="og:description" content="Embark on pixelated adventures in BoredQuest, a retro-style MMORPG filled with 8-bit magic, monsters, and treasures." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://purgedev-1.github.io/RealmQuest/" />
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="BoredQuest - Pixel Art MMORPG" />
    <meta name="twitter:description" content="Embark on pixelated adventures in BoredQuest, a retro-style MMORPG filled with 8-bit magic, monsters, and treasures." />
    
    <style>
      /* Pixel Art Styling */
      .pixel-border {
        border: 2px solid #ffffff;
        box-shadow: 
          inset 2px 2px 0px #000000,
          inset -2px -2px 0px #808080;
      }
      
      .pixel-button {
        border: 2px solid #ffffff;
        box-shadow: 
          inset 2px 2px 0px #000000,
          inset -2px -2px 0px #808080;
        background: linear-gradient(45deg, #c0c0c0, #e0e0e0);
        transition: all 0.1s ease;
      }
      
      .pixel-button:hover {
        transform: translateY(-2px);
        box-shadow: 
          inset 1px 1px 0px #000000,
          inset -1px -1px 0px #808080,
          0 4px 0px #000000;
      }
      
      .pixel-button:active {
        transform: translateY(0px);
        box-shadow: 
          inset 2px 2px 0px #000000,
          inset -2px -2px 0px #808080;
      }
      
      .pixel-input {
        border: 2px solid #ffffff;
        box-shadow: 
          inset 2px 2px 0px #000000,
          inset -2px -2px 0px #808080;
        background: #000000;
        color: #00ff00;
        font-family: 'VT323', monospace;
        font-size: 16px;
      }
      
      .pixel-card {
        border: 2px solid #ffffff;
        box-shadow: 
          inset 2px 2px 0px #000000,
          inset -2px -2px 0px #808080;
        background: #1a1a1a;
        position: relative;
      }
      
      .pixel-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: repeating-linear-gradient(
          0deg,
          transparent,
          transparent 2px,
          rgba(255, 255, 255, 0.03) 2px,
          rgba(255, 255, 255, 0.03) 4px
        );
        pointer-events: none;
      }
      
      .health-bar {
        border: 2px solid #ffffff;
        background: #000000;
        height: 12px;
      }
      
      .health-bar-fill {
        background: linear-gradient(90deg, #ff0000, #ff8000);
        height: 100%;
        transition: width 0.3s ease;
      }
      
      .mana-bar {
        border: 2px solid #ffffff;
        background: #000000;
        height: 12px;
      }
      
      .mana-bar-fill {
        background: linear-gradient(90deg, #0000ff, #0080ff);
        height: 100%;
        transition: width 0.3s ease;
      }
      
      .experience-bar {
        border: 2px solid #ffffff;
        background: #000000;
        height: 6px;
      }
      
      .experience-bar-fill {
        background: linear-gradient(90deg, #ffff00, #ff8000);
        height: 100%;
        transition: width 0.3s ease;
      }
      
      .admin-panel {
        border: 2px solid #ff0000;
        box-shadow: 
          inset 2px 2px 0px #800000,
          inset -2px -2px 0px #ff8080;
        background: #1a0000;
      }
      
      .admin-console {
        border: 2px solid #00ff00;
        background: #000000;
        font-family: 'VT323', monospace;
        font-size: 14px;
        color: #00ff00;
      }
      
      .chat-window {
        border: 2px solid #ffffff;
        background: #000000;
        font-family: 'VT323', monospace;
        font-size: 14px;
        color: #ffffff;
      }
      
      .chat-tab {
        border: 2px solid #ffffff;
        background: #2d2d2d;
        color: #ffffff;
        font-family: 'VT323', monospace;
        font-size: 12px;
        transition: all 0.1s ease;
      }
      
      .chat-tab.active {
        background: #000000;
        border-bottom-color: #000000;
      }
      
      .chat-message {
        margin: 2px 0;
        word-wrap: break-word;
      }
      
      .chat-message.system {
        color: #ffff00;
      }
      
      .chat-message.global {
        color: #00ffff;
      }
      
      .chat-message.local {
        color: #00ff00;
      }
      
      .chat-message.private {
        color: #ff00ff;
      }
      
      .chat-message.admin {
        color: #ff0000;
        font-weight: bold;
      }
      
      .scanline {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: rgba(255, 255, 255, 0.1);
        animation: scanline 2s linear infinite;
        pointer-events: none;
      }
      
      .game-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 10px;
      }
      
      .game-layout {
        display: grid;
        grid-template-columns: 300px 1fr 300px;
        grid-template-rows: auto 1fr auto;
        gap: 10px;
        height: calc(100vh - 40px);
      }
      
      .game-header {
        grid-column: 1 / -1;
        grid-row: 1;
      }
      
      .game-sidebar-left {
        grid-column: 1;
        grid-row: 2;
      }
      
      .game-main {
        grid-column: 2;
        grid-row: 2;
      }
      
      .game-sidebar-right {
        grid-column: 3;
        grid-row: 2;
      }
      
      .game-footer {
        grid-column: 1 / -1;
        grid-row: 3;
      }
      
      @media (max-width: 1024px) {
        .game-layout {
          grid-template-columns: 1fr;
          grid-template-rows: auto auto 1fr auto auto;
        }
        
        .game-header {
          grid-column: 1;
          grid-row: 1;
        }
        
        .game-sidebar-left {
          grid-column: 1;
          grid-row: 2;
        }
        
        .game-main {
          grid-column: 1;
          grid-row: 3;
        }
        
        .game-sidebar-right {
          grid-column: 1;
          grid-row: 4;
        }
        
        .game-footer {
          grid-column: 1;
          grid-row: 5;
        }
      }
    </style>
  </head>
  <body class="bg-black text-white font-retro overflow-hidden">
    <div class="scanline"></div>
    <div id="app">
      <!-- Home Page -->
      <div id="home-page" class="min-h-screen flex items-center justify-center relative">
        <div class="text-center max-w-4xl mx-auto px-4 z-10">
          <h1 class="text-6xl md:text-8xl font-pixel text-yellow-400 mb-6 animate-pixel-glow">
            BOREDQUEST
          </h1>
          <p class="text-xl md:text-2xl text-green-400 mb-8 font-retro">
            EMBARK ON PIXELATED ADVENTURES IN A RETRO REALM
          </p>
          
          <div class="grid md:grid-cols-3 gap-8 mb-12">
            <div class="pixel-card p-6">
              <h3 class="text-lg font-pixel text-cyan-400 mb-4">REAL-TIME MULTIPLAYER</h3>
              <p class="text-gray-300 font-retro text-lg">PLAY WITH FRIENDS IN PIXELATED COMBAT</p>
            </div>
            
            <div class="pixel-card p-6">
              <h3 class="text-lg font-pixel text-green-400 mb-4">CHARACTER PROGRESSION</h3>
              <p class="text-gray-300 font-retro text-lg">LEVEL UP THROUGH EPIC 8-BIT BATTLES</p>
            </div>
            
            <div class="pixel-card p-6">
              <h3 class="text-lg font-pixel text-purple-400 mb-4">DUNGEON CRAWLING</h3>
              <p class="text-gray-300 font-retro text-lg">EXPLORE PROCEDURALLY GENERATED DUNGEONS</p>
            </div>
          </div>

          <div class="space-x-4">
            <button 
              onclick="showPage('login')"
              class="pixel-button text-black font-pixel py-3 px-6 text-sm"
            >
              LOGIN
            </button>
            <button 
              onclick="showPage('register')"
              class="pixel-button text-black font-pixel py-3 px-6 text-sm"
            >
              REGISTER
            </button>
          </div>
        </div>
      </div>

      <!-- Login Page -->
      <div id="login-page" class="min-h-screen flex items-center justify-center hidden">
        <div class="pixel-card p-8 max-w-md w-full">
          <h2 class="text-2xl font-pixel text-yellow-400 mb-6 text-center">
            LOGIN TO BOREDQUEST
          </h2>
          
          <form onsubmit="handleLogin(event)" class="space-y-6">
            <div>
              <label class="block text-green-400 mb-2 font-retro text-lg">USERNAME</label>
              <input
                type="text"
                id="login-username"
                class="pixel-input w-full px-3 py-2"
                required
              />
            </div>
            
            <div>
              <label class="block text-green-400 mb-2 font-retro text-lg">PASSWORD</label>
              <input
                type="password"
                id="login-password"
                class="pixel-input w-full px-3 py-2"
                required
              />
            </div>
            
            <button
              type="submit"
              class="w-full pixel-button text-black font-pixel py-3"
            >
              LOGIN
            </button>
          </form>
          
          <button 
            onclick="showPage('home')"
            class="w-full mt-6 pixel-button text-black font-pixel py-3"
          >
            BACK TO HOME
          </button>
        </div>
      </div>

      <!-- Register Page -->
      <div id="register-page" class="min-h-screen flex items-center justify-center hidden">
        <div class="pixel-card p-8 max-w-md w-full">
          <h2 class="text-2xl font-pixel text-yellow-400 mb-6 text-center">
            JOIN BOREDQUEST
          </h2>
          
          <form onsubmit="handleRegister(event)" class="space-y-6">
            <div>
              <label class="block text-green-400 mb-2 font-retro text-lg">USERNAME</label>
              <input
                type="text"
                id="register-username"
                class="pixel-input w-full px-3 py-2"
                required
              />
            </div>
            
            <div>
              <label class="block text-green-400 mb-2 font-retro text-lg">PASSWORD</label>
              <input
                type="password"
                id="register-password"
                class="pixel-input w-full px-3 py-2"
                required
              />
            </div>
            
            <button
              type="submit"
              class="w-full pixel-button text-black font-pixel py-3"
            >
              CREATE ACCOUNT
            </button>
          </form>
          
          <button 
            onclick="showPage('home')"
            class="w-full mt-6 pixel-button text-black font-pixel py-3"
          >
            BACK TO HOME
          </button>
        </div>
      </div>

      <!-- Game Page -->
      <div id="game-page" class="h-screen hidden">
        <div class="game-container">
          <div class="game-layout">
            <!-- Header -->
            <div class="game-header">
              <div class="pixel-card p-3">
                <div class="flex justify-between items-center">
                  <h1 class="text-lg font-pixel text-yellow-400">
                    BOREDQUEST
                  </h1>
                  <div class="flex items-center space-x-4">
                    <span id="player-name" class="text-green-400 font-retro text-sm"></span>
                    <span id="admin-badge" class="bg-red-600 text-white px-2 py-1 text-xs font-pixel hidden">ADMIN</span>
                    <button
                      onclick="handleLogout()"
                      class="pixel-button text-black font-pixel py-1 px-3 text-xs"
                    >
                      LOGOUT
                    </button>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Left Sidebar - Character Info -->
            <div class="game-sidebar-left">
              <div class="pixel-card p-3 mb-3">
                <h3 class="text-sm font-pixel text-yellow-400 mb-3">CHARACTER</h3>
                <div class="grid grid-cols-2 gap-2 mb-3">
                  <div class="text-center">
                    <p class="text-gray-300 font-retro text-xs">LEVEL</p>
                    <p class="text-lg font-pixel text-yellow-400">1</p>
                  </div>
                  <div class="text-center">
                    <p class="text-gray-300 font-retro text-xs">GOLD</p>
                    <p class="text-lg font-pixel text-yellow-400">100</p>
                  </div>
                </div>
                
                <!-- Health and Mana Bars -->
                <div class="space-y-2">
                  <div>
                    <div class="flex justify-between text-xs mb-1">
                      <span class="text-green-400 font-retro">HP</span>
                      <span class="text-green-400 font-retro">100/100</span>
                    </div>
                    <div class="health-bar">
                      <div class="health-bar-fill" style="width: 100%"></div>
                    </div>
                  </div>
                  
                  <div>
                    <div class="flex justify-between text-xs mb-1">
                      <span class="text-blue-400 font-retro">MP</span>
                      <span class="text-blue-400 font-retro">50/50</span>
                    </div>
                    <div class="mana-bar">
                      <div class="mana-bar-fill" style="width: 100%"></div>
                    </div>
                  </div>
                  
                  <div>
                    <div class="flex justify-between text-xs mb-1">
                      <span class="text-yellow-400 font-retro">XP</span>
                      <span class="text-yellow-400 font-retro">0</span>
                    </div>
                    <div class="experience-bar">
                      <div class="experience-bar-fill" style="width: 0%"></div>
                    </div>
                  </div>
                </div>
              </div>
              
              <!-- Quick Actions -->
              <div class="pixel-card p-3">
                <h3 class="text-sm font-pixel text-yellow-400 mb-3">ACTIONS</h3>
                <div class="grid grid-cols-2 gap-2">
                  <button class="pixel-button text-black font-pixel py-2 px-3 text-xs">
                    ATTACK
                  </button>
                  <button class="pixel-button text-black font-pixel py-2 px-3 text-xs">
                    HEAL
                  </button>
                  <button class="pixel-button text-black font-pixel py-2 px-3 text-xs">
                    MAGIC
                  </button>
                  <button class="pixel-button text-black font-pixel py-2 px-3 text-xs">
                    ITEMS
                  </button>
                </div>
              </div>
            </div>
            
            <!-- Main Game Area -->
            <div class="game-main">
              <div class="pixel-card p-3 h-full">
                <h3 class="text-sm font-pixel text-yellow-400 mb-3">GAME WORLD</h3>
                <div class="bg-black border-2 border-white p-3 h-64 mb-3">
                  <p class="text-green-400 font-retro text-sm">WELCOME TO BOREDQUEST!</p>
                  <p class="text-gray-300 font-retro text-sm mt-2">YOU ARE IN THE PIXELATED REALM.</p>
                  <p class="text-gray-300 font-retro text-sm">NO ENEMIES NEARBY.</p>
                </div>
                
                <!-- Admin Panel (only visible to admins) -->
                <div id="admin-panel" class="admin-panel p-3 hidden">
                  <h4 class="text-sm font-pixel text-red-400 mb-2">ADMIN PANEL</h4>
                  <div class="grid grid-cols-2 gap-2">
                    <button onclick="adminAction('restart')" class="pixel-button text-black font-pixel py-1 px-2 text-xs">
                      RESTART
                    </button>
                    <button onclick="adminAction('maintenance')" class="pixel-button text-black font-pixel py-1 px-2 text-xs">
                      MAINTENANCE
                    </button>
                    <button onclick="adminAction('backup')" class="pixel-button text-black font-pixel py-1 px-2 text-xs">
                      BACKUP
                    </button>
                    <button onclick="adminAction('ban')" class="pixel-button text-black font-pixel py-1 px-2 text-xs">
                      BAN PLAYER
                    </button>
                  </div>
                  <div class="mt-2">
                    <div class="admin-console p-2">
                      <div id="admin-console" class="h-16 overflow-y-auto text-xs">
                        > Admin console ready...
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Right Sidebar - Chat -->
            <div class="game-sidebar-right">
              <div class="pixel-card p-3 h-full">
                <h3 class="text-sm font-pixel text-yellow-400 mb-3">CHAT</h3>
                
                <!-- Chat Tabs -->
                <div class="flex mb-2">
                  <button onclick="switchChatTab('global')" class="chat-tab active px-2 py-1 text-xs">
                    GLOBAL
                  </button>
                  <button onclick="switchChatTab('local')" class="chat-tab px-2 py-1 text-xs">
                    LOCAL
                  </button>
                  <button onclick="switchChatTab('private')" class="chat-tab px-2 py-1 text-xs">
                    PRIVATE
                  </button>
                </div>
                
                <!-- Chat Window -->
                <div class="chat-window p-2 mb-2 h-48 overflow-y-auto">
                  <div id="chat-messages">
                    <div class="chat-message system">[SYSTEM] Welcome to BoredQuest!</div>
                    <div class="chat-message global">[GLOBAL] Player1: Hello everyone!</div>
                    <div class="chat-message local">[LOCAL] Player2: Anyone want to team up?</div>
                  </div>
                </div>
                
                <!-- Chat Input -->
                <div class="flex">
                  <input
                    type="text"
                    id="chat-input"
                    class="pixel-input flex-1 px-2 py-1 text-sm"
                    placeholder="Type your message..."
                    maxlength="100"
                  />
                  <button
                    onclick="sendChatMessage()"
                    class="pixel-button text-black font-pixel py-1 px-2 text-xs ml-2"
                  >
                    SEND
                  </button>
                </div>
                
                <!-- Online Players -->
                <div class="mt-3">
                  <h4 class="text-xs font-pixel text-yellow-400 mb-2">ONLINE (3)</h4>
                  <div class="text-xs text-gray-300 space-y-1">
                    <div class="flex justify-between">
                      <span>Player1</span>
                      <span class="text-green-400">●</span>
                    </div>
                    <div class="flex justify-between">
                      <span>Player2</span>
                      <span class="text-green-400">●</span>
                    </div>
                    <div class="flex justify-between">
                      <span>Player3</span>
                      <span class="text-green-400">●</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Footer -->
            <div class="game-footer">
              <div class="pixel-card p-2">
                <div class="flex justify-between items-center text-xs">
                  <span class="text-gray-300">STATUS: ONLINE</span>
                  <span class="text-gray-300">PLAYERS: 3</span>
                  <span class="text-gray-300">UPTIME: 2h 15m</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      let currentUser = null;
      let isAdmin = false;
      let maintenanceMode = false;
      let accounts = [];
      let isFirstAccount = true;
      let currentChatTab = 'global';
      let chatMessages = {
        global: [
          { type: 'system', text: 'Welcome to BoredQuest!' },
          { type: 'global', user: 'Player1', text: 'Hello everyone!' },
          { type: 'local', user: 'Player2', text: 'Anyone want to team up?' }
        ],
        local: [
          { type: 'system', text: 'Local chat - only visible to nearby players' },
          { type: 'local', user: 'Player2', text: 'Anyone want to team up?' }
        ],
        private: [
          { type: 'system', text: 'Private messages will appear here' }
        ]
      };

      function showPage(pageName) {
        // Hide all pages
        document.getElementById('home-page').classList.add('hidden');
        document.getElementById('login-page').classList.add('hidden');
        document.getElementById('register-page').classList.add('hidden');
        document.getElementById('game-page').classList.add('hidden');
        
        // Show the requested page
        document.getElementById(pageName + '-page').classList.remove('hidden');
      }

      function handleLogin(event) {
        event.preventDefault();
        const username = document.getElementById('login-username').value;
        const password = document.getElementById('login-password').value;
        
        if (username && password) {
          // Check if account exists
          const account = accounts.find(acc => acc.username === username && acc.password === password);
          
          if (account) {
            isAdmin = account.isAdmin;
            currentUser = username;
            document.getElementById('player-name').textContent = username;
            
            if (isAdmin) {
              document.getElementById('admin-badge').classList.remove('hidden');
              document.getElementById('admin-panel').classList.remove('hidden');
              logToAdminConsole('Admin login successful');
              addChatMessage('system', `Admin ${username} has logged in!`);
            } else {
              document.getElementById('admin-badge').classList.add('hidden');
              document.getElementById('admin-panel').classList.add('hidden');
            }
            showPage('game');
            addChatMessage('system', `${username} has joined the game!`);
          } else {
            alert('INVALID USERNAME OR PASSWORD!');
          }
        }
      }

      function handleRegister(event) {
        event.preventDefault();
        const username = document.getElementById('register-username').value;
        const password = document.getElementById('register-password').value;
        
        if (username && password) {
          // Check if username already exists
          const existingAccount = accounts.find(acc => acc.username === username);
          
          if (existingAccount) {
            alert('USERNAME ALREADY EXISTS! PLEASE CHOOSE A DIFFERENT USERNAME.');
            return;
          }
          
          // Create new account
          const newAccount = {
            username: username,
            password: password,
            isAdmin: isFirstAccount // First account becomes admin
          };
          
          accounts.push(newAccount);
          
          isAdmin = isFirstAccount;
          currentUser = username;
          document.getElementById('player-name').textContent = username;
          
          if (isFirstAccount) {
            document.getElementById('admin-badge').classList.remove('hidden');
            document.getElementById('admin-panel').classList.remove('hidden');
            logToAdminConsole('First account created - Admin privileges granted');
            addChatMessage('system', `🎉 ${username} is the first player and has been granted admin privileges!`);
            alert('🎉 CONGRATULATIONS! YOU ARE THE FIRST PLAYER AND HAVE BEEN GRANTED ADMIN PRIVILEGES!');
            isFirstAccount = false;
          } else {
            document.getElementById('admin-badge').classList.add('hidden');
            document.getElementById('admin-panel').classList.add('hidden');
          }
          
          showPage('game');
          addChatMessage('system', `${username} has joined BoredQuest!`);
        }
      }

      function handleLogout() {
        if (currentUser) {
          addChatMessage('system', `${currentUser} has left the game.`);
        }
        currentUser = null;
        isAdmin = false;
        document.getElementById('login-username').value = '';
        document.getElementById('login-password').value = '';
        document.getElementById('register-username').value = '';
        document.getElementById('register-password').value = '';
        showPage('home');
      }

      function adminAction(action) {
        if (!isAdmin) return;
        
        const timestamp = new Date().toLocaleTimeString();
        
        switch(action) {
          case 'restart':
            logToAdminConsole(`[${timestamp}] Server restart initiated...`);
            addChatMessage('system', 'Server restart initiated by admin...');
            setTimeout(() => {
              logToAdminConsole(`[${timestamp}] Server restart completed successfully`);
              addChatMessage('system', 'Server restart completed successfully');
            }, 2000);
            break;
          case 'maintenance':
            maintenanceMode = !maintenanceMode;
            logToAdminConsole(`[${timestamp}] Maintenance mode ${maintenanceMode ? 'enabled' : 'disabled'}`);
            addChatMessage('system', `Maintenance mode ${maintenanceMode ? 'enabled' : 'disabled'} by admin`);
            break;
          case 'backup':
            logToAdminConsole(`[${timestamp}] Creating server backup...`);
            addChatMessage('system', 'Creating server backup...');
            setTimeout(() => {
              logToAdminConsole(`[${timestamp}] Backup completed: boredquest_backup_${Date.now()}.zip`);
              addChatMessage('system', `Backup completed: boredquest_backup_${Date.now()}.zip`);
            }, 1500);
            break;
          case 'ban':
            const playerToBan = prompt('Enter player name to ban:');
            if (playerToBan) {
              logToAdminConsole(`[${timestamp}] Player '${playerToBan}' has been banned`);
              addChatMessage('system', `Player '${playerToBan}' has been banned by admin`);
            }
            break;
        }
      }

      function logToAdminConsole(message) {
        const console = document.getElementById('admin-console');
        console.innerHTML += '<br>' + message;
        console.scrollTop = console.scrollHeight;
      }

      function switchChatTab(tab) {
        currentChatTab = tab;
        
        // Update tab styling
        document.querySelectorAll('.chat-tab').forEach(t => t.classList.remove('active'));
        event.target.classList.add('active');
        
        // Update chat messages
        updateChatDisplay();
      }

      function updateChatDisplay() {
        const chatContainer = document.getElementById('chat-messages');
        chatContainer.innerHTML = '';
        
        chatMessages[currentChatTab].forEach(msg => {
          const messageDiv = document.createElement('div');
          messageDiv.className = `chat-message ${msg.type}`;
          
          if (msg.user) {
            messageDiv.textContent = `[${currentChatTab.toUpperCase()}] ${msg.user}: ${msg.text}`;
          } else {
            messageDiv.textContent = `[${msg.type.toUpperCase()}] ${msg.text}`;
          }
          
          chatContainer.appendChild(messageDiv);
        });
        
        chatContainer.scrollTop = chatContainer.scrollHeight;
      }

      function addChatMessage(type, text, user = null) {
        const message = { type, text, user };
        chatMessages[currentChatTab].push(message);
        
        // Keep only last 50 messages
        if (chatMessages[currentChatTab].length > 50) {
          chatMessages[currentChatTab].shift();
        }
        
        updateChatDisplay();
      }

      function sendChatMessage() {
        const input = document.getElementById('chat-input');
        const message = input.value.trim();
        
        if (message && currentUser) {
          addChatMessage(currentChatTab, message, currentUser);
          input.value = '';
        }
      }

      // Handle Enter key in chat input
      document.addEventListener('DOMContentLoaded', function() {
        const chatInput = document.getElementById('chat-input');
        if (chatInput) {
          chatInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
              sendChatMessage();
            }
          });
        }
      });

      // Show home page by default
      showPage('home');
    </script>
  </body>
</html> 